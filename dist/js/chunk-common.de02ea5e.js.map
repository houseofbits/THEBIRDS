{"version":3,"sources":["webpack:///./src/components/detail.vue?5d88","webpack:///./src/components/sector.vue?620b","webpack:///./src/application.vue?bd2d","webpack:///./src/components/sector.vue?7cfe","webpack:///./src/components/common.js","webpack:///src/components/sector.vue","webpack:///./src/components/sector.vue?4a95","webpack:///./src/components/sector.vue","webpack:///./src/components/clipregion.vue?279e","webpack:///src/components/clipregion.vue","webpack:///./src/components/clipregion.vue?b9b7","webpack:///./src/components/clipregion.vue","webpack:///./src/components/detail.vue?c13c","webpack:///src/components/detail.vue","webpack:///./src/components/detail.vue?71e4","webpack:///./src/components/detail.vue","webpack:///./src/components/divisionregion.vue?ce21","webpack:///src/components/divisionregion.vue","webpack:///./src/components/divisionregion.vue?6fd9","webpack:///./src/components/divisionregion.vue","webpack:///./src/components/sound.vue?bd0e","webpack:///src/components/sound.vue","webpack:///./src/components/sound.vue?1c23","webpack:///./src/components/sound.vue","webpack:///src/application.vue","webpack:///./src/application.vue?ce8d","webpack:///./src/application.vue","webpack:///./src/main.js","webpack:///./src/components/divisionregion.vue?9898","webpack:///./src/application.vue?2483","webpack:///./src/components/clipregion.vue?df7c"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","view","_e","staticClass","_v","ref","style","backgroundImage","backgroundImageUrl","shadowImageUrl","_l","sector","index","key","divisions","selectedDivision","renderDetailView","getPreviousDetailViewId","on","movePrev","getNextDetailViewId","moveNext","closeDetailView","class","active","getLanguage","$event","setLanguage","staticRenderFns","backgroundImageActiveUrl","Rectangle","str","height","width","indexOf","arr","split","parseFloat","Vector2","x","y","Vector3","z","getRandomArbitrary","min","max","Math","random","radiansToDegrees","radians","pi","PI","props","data","computed","getImageProp","size","polygonPoints","position","methods","name","mainImage","blurEffect","Velocity","$el","value","blur","onBlurEffectOn","excludeIndex","$vnode","onBlurEffectOff","onMoveOut","selectedIndex","parent","delay","blurValue","translateZ","duration","onMoveIn","onShake","rotY","mov","rotateY","easing","complete","elements","rotateX","mounted","$parent","$on","rotation","translateX","translateY","rotateZ","component","onGrab","onRelease","onLeave","$emit","detailBackgroundImageUrl","imageSize","top","imagePosition","left","imageUrl","_s","title","titleLatin","descriptionPosition","description","sound","playing","isPlaying","playSound","soundTitle","_m","template","components","sounds","audio","language","pos","text","getDetailProp","stop","play","$forceUpdate","onStopSound","i","length","detailImage","onCarouselSlideStart","currentIndex","targetIndex","calculateAngle","positionIndex","halfAngle","atan","selectedDetail","mouseState","mouseDownCount","rotationStep","currentShakeIndex","passiveMode","userInputTimer","config","userInputTimeout","detailRotationDuration","hasDivisions","clipregion","detail","divisionregion","sectors","mainBackground","mainShadow","detailBackground","init","id","window","location","search","result","match","path","pathname","parseInt","$http","get","then","response","body","initAudio","selectDetailView","initDetailView","$refs","detailScreen","opacity","display","shadowBackground","rotateDetailView","userInputActivation","next","prev","imediate","angle","detailCarousel","switchLanguage","onSectorGrabEvent","onSectorReleaseEvent","onSectorLeaveEvent","onMouseDown","e","button","onMouseUp","lang","startShakeNext","setTimeout","clearTimeout","a","audioFile","fileName","Howl","src","preload","onload","onend","onMouseMove","document","addEventListener","beforeDestroy","removeEventListener","onClick","use","h","$mount"],"mappings":"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","file":"js/chunk-common.de02ea5e.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&id=5a5b2634&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&id=5a5b2634&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sector.vue?vue&type=style&index=0&id=89dd5714&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sector.vue?vue&type=style&index=0&id=89dd5714&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(!_vm.view)?_c('div',{staticClass:\"error-message\"},[_vm._v(\"No view data found!\")]):_vm._e(),_c('div',{ref:\"mainScreen\",staticClass:\"main-screen\"},[_c('div',{ref:\"mainBackground\",staticClass:\"main-background\",style:({backgroundImage: 'url(' + _vm.backgroundImageUrl + ')'})},[_c('div',{ref:\"shadowBackground\",staticClass:\"shadow-background\",style:({backgroundImage: 'url(' + _vm.shadowImageUrl + ')'})})]),_vm._l((_vm.sectors),function(sector,index){return _c('sector',{key:index,attrs:{\"sector\":sector}})})],2),_c('div',{staticClass:\"clip-screen\"},[(_vm.divisions&&!_vm.selectedDivision)?_c('svg',_vm._l((_vm.sectors),function(sector,index){return _c('divisionregion',{key:index,attrs:{\"sector\":sector}})}),1):_vm._e(),_c('svg',_vm._l((_vm.sectors),function(sector,index){return _c('clipregion',{key:index,attrs:{\"sector\":sector}})}),1)]),_c('div',{ref:\"detailScreen\",staticClass:\"detail-screen\"},[_c('div',{staticClass:\"detail-3d\"},[_c('div',{ref:\"detailCarousel\",staticClass:\"detail-frame\"},_vm._l((_vm.sectors),function(sector,index){return (_vm.renderDetailView(index))?_c('detail',{key:index,attrs:{\"sector\":sector}}):_vm._e()}),1)]),_c('div',{staticClass:\"navigation\"},[(_vm.getPreviousDetailViewId()!=null)?_c('div',{staticClass:\"button-prev\",on:{\"click\":_vm.movePrev}}):_vm._e(),(_vm.getNextDetailViewId()!=null)?_c('div',{staticClass:\"button-next\",on:{\"click\":_vm.moveNext}}):_vm._e(),_c('div',{staticClass:\"button-exit\",on:{\"click\":_vm.closeDetailView}}),_c('div',{staticClass:\"language\"},[_c('div',{staticClass:\"flag ru\",class:{active:(_vm.getLanguage()=='ru')},on:{\"click\":function($event){return _vm.setLanguage('ru')}}}),_c('div',{staticClass:\"flag en\",class:{active:(_vm.getLanguage()=='en')},on:{\"click\":function($event){return _vm.setLanguage('en')}}}),_c('div',{staticClass:\"flag lv\",class:{active:(_vm.getLanguage()=='lv')},on:{\"click\":function($event){return _vm.setLanguage('lv')}}})])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sector\",style:({backgroundImage: 'url(' + _vm.backgroundImageUrl + ')'})},[(_vm.backgroundImageActiveUrl)?_c('div',{staticClass:\"active\",style:({backgroundImage: 'url(' + _vm.backgroundImageActiveUrl + ')'})}):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\nexport class Rectangle {\n    constructor(str) {\n      this.height = 0;\n      this.width = 0;\n      if(str && str.indexOf(',') > 0){\n          var arr = str.split(',');\n          if(typeof arr[0] != 'undefined')this.width = parseFloat(arr[0]);\n          if(typeof arr[1] != 'undefined')this.height = parseFloat(arr[1]);        \n      }\n    }\n  }\n  \n  export class Vector2 {\n      constructor(str) {\n          this.x = 0;\n          this.y = 0;\n          if(str && str.indexOf(',') > 0){\n              var arr = str.split(',');\n              if(typeof arr[0] != 'undefined')this.x = parseFloat(arr[0]);\n              if(typeof arr[1] != 'undefined')this.y = parseFloat(arr[1]);\n          }\n      }\n  }\n  \n  export class Vector3 {\n    constructor(str) {\n      this.x = 0;\n      this.y = 0;\n      this.z = 0;\n      if(str && str.indexOf(',') > 0){\n          var arr = str.split(',');\n          if(typeof arr[0] != 'undefined')this.x = parseFloat(arr[0]);\n          if(typeof arr[1] != 'undefined')this.y = parseFloat(arr[1]);\n          if(typeof arr[2] != 'undefined')this.z = parseFloat(arr[2]);                \n      }\n    }\n  }\n  \n  export function getRandomArbitrary(min, max) {\n      return Math.random() * (max - min) + min;\n    }\n \n export function radiansToDegrees(radians)\n {\n     var pi = Math.PI;\n     return radians * (180/pi);\n }   ","<template>\n    <div class=\"sector\" :style=\"{backgroundImage: 'url(' + backgroundImageUrl + ')'}\">\n        <div v-if=\"backgroundImageActiveUrl\" class=\"active\" :style=\"{backgroundImage: 'url(' + backgroundImageActiveUrl + ')'}\"></div>\n    </div>\n</template>\n\n<script>\n\nimport {Vector3, Vector2, Rectangle, getRandomArbitrary} from './common.js'\n\nexport default {\n    props: ['sector'],\n    data: function () {\n        return { data: this.sector }\n    },\n    computed:{\n        backgroundImageUrl:function(){\n            return this.getImageProp('image');\n        },\n        backgroundImageActiveUrl:function(){\n            return this.getImageProp('imageActive');\n        },\n        width:function(){\n            var size = new Rectangle(this.getImageProp('size'));\n            return size.width;\n        },\n        height:function(){\n            var size = new Rectangle(this.getImageProp('size'));\n            return size.height;\n        },\n        polygonPoints:function(){\n            return this.getImageProp('clipPolygon');\n        },\n        position:function(){\n            return new Vector3(this.getImageProp('position'));\n        }\n    },\n    methods: {\n        getImageProp:function(name){\n            if(this.data && typeof this.data.mainImage != 'undefined'){\n                if(typeof this.data.mainImage[name] != 'undefined'){\n                    return this.data.mainImage[name];\n                }\n            }\n            return '';\n        },\n        blurEffect:function(on){\n\n            Velocity(this.$el,\"finish\");\n\n            var value = 0;\n            if(on){\n                value = 5;  //this.getImageProp('maxBlur');\n            }\n\n            Velocity(this.$el,{\n                blur:value\n            }, 500);\n        },\n        onBlurEffectOn:function(excludeIndex){\n            if (excludeIndex != this.$vnode.key) {\n                this.blurEffect(true);\n            } else {\n                this.blurEffect(false);\n            }\n        },\n        onBlurEffectOff:function(){\n            this.blurEffect(false);\n        },\n        onMoveOut:function(selectedIndex){\n            var parent = this;\n            var delay = getRandomArbitrary(0,300);\n            var blurValue = this.getImageProp('maxBlur');\n            if(selectedIndex == this.$vnode.key){\n                delay = 0;\n            }\n            Velocity(this.$el, {\n                translateZ:parent.position.z + 800,\n                blur:blurValue\n            }, {\n                delay:delay,\n                duration: 600,\n            });\n        },\n        onMoveIn:function(){\n            var parent = this;\n            var delay = getRandomArbitrary(0,300);\n            Velocity(this.$el, {\n                translateZ:parent.position.z,\n                blur:4\n            }, {\n                delay:delay,\n                duration: 400,\n            });\n            Velocity(this.$el, {\n                blur:0\n            }, 100);\n        },\n        onShake:function(index){\n            if(index == this.$vnode.key){\n                var parent = this;\n\n                var rotY = 0;   //getRandomArbitrary(-20,20);\n                var mov = getRandomArbitrary(0,50)\n                \n                Velocity(this.$el, {\n                    translateZ:parent.position.z + mov,\n                    rotateY:rotY,\n                }, {\n                    duration: 300,\n                    easing: \"swing\",\n                    complete:function(elements){\n                                                \n                        Velocity(parent.$el, {\n                            translateZ:parent.position.z,\n                            rotateX:0,\n                            rotateY:0,\n                        },200);\n\n                    } });                \n            }\n        }        \n    },\n    mounted:function () {\n\n        this.$parent.$on('blur-effect-event', this.blurEffect);\n        this.$parent.$on('blur-effect-on', this.onBlurEffectOn);\n        this.$parent.$on('blur-effect-off', this.onBlurEffectOff);\n        this.$parent.$on('move-out', this.onMoveOut);\n        this.$parent.$on('move-in', this.onMoveIn);\n        this.$parent.$on('shake', this.onShake);\n\n        var position = new Vector3(this.getImageProp('position'));\n        var rotation = new Vector3(this.getImageProp('rotation'));\n        var size = new Rectangle(this.getImageProp('size'));\n\n        Velocity(this.$el, {\n            translateX:position.x,\n            translateY:position.y,\n            translateZ:position.z,\n            rotateX:rotation.x,\n            rotateY:rotation.y,\n            rotateZ:rotation.z,\n            width:size.width,\n            height:size.height\n        }, 0);\n        \n    }    \n}\n</script>\n\n<style scoped>\n\n  .sector{\n      position: absolute;\n      background-repeat: round;\n  }\n  .sector .active{\n      position:relative;\n      width:100%;\n      height:100%;\n      top:0px;\n      left:0px;\n      background-repeat: round;\n  }\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./sector.vue?vue&type=template&id=89dd5714&scoped=true&\"\nimport script from \"./sector.vue?vue&type=script&lang=js&\"\nexport * from \"./sector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./sector.vue?vue&type=style&index=0&id=89dd5714&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"89dd5714\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.polygonPoints)?_c('polygon',{staticClass:\"polygon\",attrs:{\"points\":_vm.polygonPoints},on:{\"mousedown\":_vm.onGrab,\"mouseup\":_vm.onRelease,\"mouseover\":_vm.onGrab,\"mouseleave\":_vm.onLeave,\"touchstart\":_vm.onGrab,\"touchend\":_vm.onRelease}}):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <polygon v-if=\"polygonPoints\" :points=\"polygonPoints\" class=\"polygon\"\n    v-on:mousedown=\"onGrab\"\n    v-on:mouseup=\"onRelease\"\n    v-on:mouseover=\"onGrab\"\n    v-on:mouseleave=\"onLeave\"\n    v-on:touchstart=\"onGrab\"\n    v-on:touchend=\"onRelease\">\n    </polygon>\n</template>\n\n<script>\nexport default {\n    props: ['sector'],\n    data: function () {\n        return { data: this.sector }\n    },\n    computed:{\n        polygonPoints:function(){\n            if(this.data && typeof this.data.mainImage != 'undefined'){\n                if(typeof this.data.mainImage['clipPolygon'] != 'undefined'){\n                    return this.data.mainImage['clipPolygon'];\n                }\n            }\n            return false;            \n        },\n    },\n    methods:{\n        //mousedown/mouseover or touchstart\n        onGrab:function(){\n            this.$parent.$emit('sector-grab', this.$vnode.key);\n        },\n        ///mouseup or touchend\n        onRelease(){\n            this.$parent.$emit('sector-release', this.$vnode.key);\n        },\n        //mouseout\n        onLeave(){\n            this.$parent.$emit('sector-leave', this.$vnode.key);\n        }\n    }\n}\n</script>\n\n<style scoped>\n    .polygon{\n        fill:yellow;\n        stroke:blue;\n        stroke-width:2px;\n        fill-rule:evenodd;\n        opacity:0.3;\n    }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./clipregion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./clipregion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./clipregion.vue?vue&type=template&id=1dde511f&scoped=true&\"\nimport script from \"./clipregion.vue?vue&type=script&lang=js&\"\nexport * from \"./clipregion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./clipregion.vue?vue&type=style&index=0&id=1dde511f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1dde511f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-element\",style:({backgroundImage: 'url(' + _vm.detailBackgroundImageUrl + ')'})},[_c('div',{staticClass:\"detail-content\"},[_c('div',{staticClass:\"image\",style:({\n            width:_vm.imageSize.width + 'px',\n            height:_vm.imageSize.height + 'px',\n            top:_vm.imagePosition.y + 'px',\n            left:_vm.imagePosition.x + 'px',\n            backgroundImage: 'url(' + _vm.imageUrl + ')'\n        })}),_c('div',{staticClass:\"title\"},[_c('span',[_vm._v(_vm._s(_vm.title))])]),_c('div',{staticClass:\"title-latin\"},[_c('span',[_vm._v(_vm._s(_vm.titleLatin))])]),_c('div',{staticClass:\"description\",style:({left:_vm.descriptionPosition.x+'px',top:_vm.descriptionPosition.y+'px'})},[_c('span',[_vm._v(_vm._s(_vm.description))])]),_c('div',{staticClass:\"sounds\"},_vm._l((_vm.sounds),function(sound,index){return _c('div',{key:index,class:{playing:_vm.isPlaying(index)},on:{\"click\":function($event){return _vm.playSound(index)}}},[_c('span',{staticClass:\"icon\"}),_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.soundTitle(index)))]),_vm._m(0,true)])}),0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"waveform\"},[_c('div'),_c('div'),_c('div'),_c('div')])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"detail-element\" :style=\"{backgroundImage: 'url(' + detailBackgroundImageUrl + ')'}\">\n        <div class=\"detail-content\">\n            <div class=\"image\" :style=\"{\n                width:imageSize.width + 'px',\n                height:imageSize.height + 'px',\n                top:imagePosition.y + 'px',\n                left:imagePosition.x + 'px',\n                backgroundImage: 'url(' + imageUrl + ')'\n            }\"></div>\n            <div class=\"title\"><span>{{title}}</span></div>\n            <div class=\"title-latin\"><span>{{titleLatin}}</span></div>\n            <div class=\"description\" :style=\"{left:descriptionPosition.x+'px',top:descriptionPosition.y+'px'}\"><span>{{description}}</span></div>\n            <div class=\"sounds\">\n                <div v-for=\"(sound, index) in sounds\" :key=\"index\" :class=\"{playing:isPlaying(index)}\" v-on:click=\"playSound(index)\">\n                    <span class=\"icon\"></span>\n                    <span class=\"title\">{{soundTitle(index)}}</span>\n                    <div class=waveform>\n                        <div></div>\n                        <div></div>\n                        <div></div>\n                        <div></div>                        \n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n\nimport {Vector3, Vector2, Rectangle, getRandomArbitrary, radiansToDegrees} from './common.js'\n\nexport default {\n    props: ['sector'],\n    template:'#detail-template',\n    data: function () {\n        return { data: this.sector }\n    },\n    components: {\n        sound\n    },\n    computed:{\n        sounds:function(){\n            if(typeof this.data.audio != 'undefined'){\n                return this.data.audio;\n            }\n            return null;\n        },\n        descriptionPosition:function(){\n            if(typeof this.data.description != 'undefined'){\n                var language = this.$parent.getLanguage();\n\n                if(typeof this.data.description[language] == \"object\" && \n                typeof this.data.description[language].position != \"undefined\"){\n                    var pos = new Vector2(this.data.description[language].position);\n                    return pos;\n                }\n                if(typeof this.data.description.position != 'undefined'){\n                    var pos = new Vector2(this.data.description.position);\n                    return pos;\n                }\n            }\n            return new Vector2(null);\n        },\n        detailBackgroundImageUrl:function(){\n            return this.$parent.detailBackgroundImageUrl;\n        },\n        title:function(){\n            var language = this.$parent.getLanguage();\n\n            if(typeof this.data.title != 'undefined'\n                && typeof this.data.title[language] != 'undefined'){\n                return this.data.title[language];\n            }\n            return 'No title [' + this.$vnode.key + ']';\n        },\n        titleLatin:function(){\n            if(typeof this.data.titleLatin != 'undefined'){\n                return this.data.titleLatin;\n            }\n            return '';\n        },\n        description:function(){\n            var language = this.$parent.getLanguage();\n\n            if(typeof this.data.description != 'undefined'\n                && typeof this.data.description[language] != 'undefined'){\n\n                if(typeof this.data.description[language] == \"object\" && \n                typeof this.data.description[language].text != \"undefined\"){\n                    return this.data.description[language].text;\n                }\n                return this.data.description[language];\n            }\n            return '';\n        },\n        imageUrl:function(){\n            return this.getDetailProp('image');\n        },\n        imageSize:function(){\n            return new Rectangle(this.getDetailProp('size'));\n        },        \n        imagePosition:function(){\n            return new Vector2(this.getDetailProp('position'));\n        },                        \n    },\n    methods: {\n        soundTitle:function(index){\n            var language = this.$parent.getLanguage();\n            if(this.sounds[index] != \"undefined\" \n                && this.sounds[index].title != \"undefined\"\n                && this.sounds[index].title[language] != \"undefined\"){\n                    return this.sounds[index].title[language];\n            }\n            return \"\";\n        },\n        playSound:function(index){\n            var isPlaying = this.isPlaying(index);\n            this.$parent.$emit('stop-sounds');\n            if(typeof this.sounds[index] != \"undefined\"){\n                if(isPlaying){\n                    this.sounds[index].sound.stop();\n                }else{\n                    this.sounds[index].sound.play();\n                } \n            }\n            this.$forceUpdate();\n        },\n        isPlaying:function(index){\n            if(typeof this.sounds[index] != \"undefined\"){\n                return this.sounds[index].sound.playing();\n            }\n            return false;\n        },   \n        onStopSound:function(){\n            if(typeof this.sounds != \"undefined\" && this.sounds){\n                for(var i=0; i<this.sounds.length; i++){\n                    if(typeof this.sounds[i].sound != \"undefined\"){\n                        this.sounds[i].sound.stop();\n                    }                    \n                }\n            }\n            this.$forceUpdate();            \n        },\n        getDetailProp:function(name){\n            if(this.data && typeof this.data.detailImage != 'undefined'){\n                if(typeof this.data.detailImage[name] != 'undefined'){\n                    return this.data.detailImage[name];\n                }\n            }\n            return '';\n        },\n        onCarouselSlideStart:function(currentIndex, targetIndex){\n            if(currentIndex == this.$vnode.key){\n                Velocity(this.$el,{\n                    blur:10\n                }, { duration: 100});\n            }\n            if(targetIndex == this.$vnode.key){\n                Velocity(this.$el,{\n                    blur:10\n                }, 0);\n                Velocity(this.$el,{\n                    blur:0\n                }, { duration: 700});\n            }            \n        },\n        calculateAngle:function(positionIndex){\n            var halfAngle = radiansToDegrees(Math.atan((1024/2)/3000));\n            return ((halfAngle * 2) * positionIndex);\n        },\n    },\n    mounted:function () {\n        this.$parent.$on('carousel-slide-start', this.onCarouselSlideStart);\n        this.$parent.$on('stop-sounds', this.onStopSound);\n\n        Velocity(this.$el, { rotateY:this.calculateAngle(this.$vnode.key) }, 0);\n    }\n}\n</script>\n\n<style scoped>\n    .detail-screen .image {\n        position: absolute;\n        /*border: 1px dashed orange;*/\n        background-repeat: round;    \n    }\n    .title {\n        margin-top:20px;\n        margin-left:20px;\n        font-size: 60px;\n        width:600px;\n        line-height: 60px;\n    }\n    .title span{\n        display: inline;\n        background: linear-gradient(to top, #f5ff81, white);\n        -webkit-background-clip: text;\n        background-clip: text; \n        -webkit-text-fill-color: transparent;      \n        filter: drop-shadow(2px 4px 3px #000);     \n    }\n    .title-latin{\n        margin-top:10px;\n        margin-left:50px;\n        font-size: 40px;\n        font-style: italic;\n        width:800px;    \n    }\n    .title-latin span{\n        display: inline;\n        background: linear-gradient(to top, #e5e5e5, white);\n        -webkit-background-clip: text;\n        background-clip: text; \n        -webkit-text-fill-color: transparent;    \n        filter: drop-shadow(2px 2px 2px #000); \n    }\n    .description{\n        text-align: justify;\n        font-size: 30px;\n        line-height: 35px;\n        position:absolute;\n        top:300px;\n        left:20px;\n        width:90%;\n        padding-left: 30px;\n    }\n    .description span{\n        display: inline;\n        background: linear-gradient(to top, #f5ff81, white);\n        -webkit-background-clip: text;\n        background-clip: text; \n        -webkit-text-fill-color: transparent;    \n        filter: drop-shadow(2px 2px 2px #000);    \n    }\n    .detail-element{\n        position:absolute;\n        left:0px;\n        top:-100px;\n        width:1024px;\n        height:968px;\n        transform-origin: 512px 0 -3000px;\n        background-repeat: round;\n    }\n    .detail-content{\n        position:absolute;\n        left:0px;\n        top:100px;\n        width:1024px;\n        height:768px;\n    }\n\n    .sounds{\n        margin-top: 40px;\n    }\n\n    .sounds div{\n        display: block;\n        width: 50%;\n        height: 55px;\n        margin: 0px;\n        margin-left: 50px;\n    }\n    .sounds .icon{\n        display: inline-block;\n        margin:0;\n        width:60px;\n        height:60px;\n        background-image: url('/resources/button_play.png');\n        background-repeat: round;\n    }\n    .sounds .title{\n        display: inline-block;\n        width:auto;\n        height:50px;\n        margin:0;\n        vertical-align: top;\n        color: #f5ff81;\n        font-size: 25px;\n        line-height: 50px;\n        margin-left: 10px;\n\n        background: linear-gradient(to bottom, rgba(252,234,187,1) 0%, rgba(252,205,77,1) 70%, rgba(248,181,0,1) 71%, rgba(251,223,147,1) 100%);\n        -webkit-background-clip: text;\n        background-clip: text; \n        -webkit-text-fill-color: transparent;    \n        filter: drop-shadow(2px 2px 2px #000);     \n    }\n    .sounds .waveform{\n        display:none;\n        vertical-align: top;\n        position: relative;\n        width:50px;\n        height:35px;\n        margin:0;\n        margin-left: 5px;\n    }\n    .sounds .waveform div{\n        position: absolute;\n        margin:0;\n        bottom: 0px;\n        background-color: yellowgreen;\n        width:6px;\n        height: 20px;\n        background: linear-gradient(to bottom, rgba(214,252,0,1) 0%, rgba(117,137,12,1) 100%);\n        filter: drop-shadow(1px 1px 1px #000);   \n        animation-duration: 2s;\n        animation-iteration-count: infinite;\n        border-radius: 2px;\n    }\n    .sounds .waveform div:nth-child(1){\n        animation-name: wkf1;\n        left:0px;\n    }\n    .sounds .waveform div:nth-child(2){\n        animation-name: wkf2;\n        left:10px;\n        height:5px;\n    }\n    .sounds .waveform div:nth-child(3){\n        animation-name: wkf3;\n        left:20px;\n        height:10px;\n    }\n    .sounds .waveform div:nth-child(4){\n        animation-name: wkf4;\n        left:30px;\n        height:25px;\n    }\n\n    @keyframes wkf1 {\n        0%   {height: 35px;}\n        50%   {height: 5px;}    \n        100% {height: 35px;}\n    }\n    @keyframes wkf2 {\n        0%   {height: 5px;}\n        50%   {height: 35px;}    \n        100% {height: 5px;}\n    }\n    @keyframes wkf3 {\n        0%   {height: 10px;}\n        33%   {height: 35px;}    \n        66%   {height: 5px;}        \n        100% {height: 10px;}\n    }\n    @keyframes wkf4 {\n        0%   {height: 25px;}\n        50%   {height: 5px;}    \n        100% {height: 25px;}\n    }      \n\n    .sounds .playing .title{\n        background: linear-gradient(to bottom, rgba(214,252,0,1) 0%, rgba(117,137,12,1) 100%);\n        -webkit-background-clip: text;\n        background-clip: text; \n        -webkit-text-fill-color: transparent;    \n        filter: drop-shadow(2px 2px 2px #000);     \n    }\n    .sounds .playing .icon{\n        background-image: url('/resources/button_play_on.png');\n    }\n    .sounds .playing .waveform{\n        display:inline-block;\n    }    \n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=5a5b2634&scoped=true&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=5a5b2634&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a5b2634\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.polygonPoints)?_c('polygon',{staticClass:\"polygon-division-reg\",attrs:{\"points\":_vm.polygonPoints},on:{\"mousedown\":_vm.onGrab,\"mouseup\":_vm.onRelease,\"touchstart\":_vm.onGrab,\"touchend\":_vm.onRelease}}):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <polygon v-if=\"polygonPoints\" :points=\"polygonPoints\" class=\"polygon-division-reg\"\n    v-on:mousedown=\"onGrab\"\n    v-on:mouseup=\"onRelease\"\n    v-on:touchstart=\"onGrab\"\n    v-on:touchend=\"onRelease\">\n    </polygon>\n</template>\n\n<script>\nexport default {\n    props: ['sector'],\n    data: function () {\n        return { data: this.sector }\n    },\n    computed:{\n        polygonPoints:function(){\n            if(this.data){\n                if(typeof this.data['clipPolygon'] != 'undefined'){\n                    return this.data['clipPolygon'];\n                }\n            }\n            return false;\n        },\n    },\n    methods:{\n        //mousedown/mouseover or touchstart\n        onGrab:function(){\n            this.$parent.$emit('division-grab', this.$vnode.key);\n        },\n        ///mouseup or touchend\n        onRelease(){\n            this.$parent.$emit('division-release', this.$vnode.key);\n        },\n    }\n}\n</script>\n\n<style scoped>\n    .polygon-division-reg{\n        fill:rgb(255, 0, 43);\n        stroke:rgb(190, 0, 111);\n        stroke-width:2px;\n        fill-rule:evenodd;\n        opacity:0.2;\n    }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./divisionregion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./divisionregion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./divisionregion.vue?vue&type=template&id=a90e27ec&scoped=true&\"\nimport script from \"./divisionregion.vue?vue&type=script&lang=js&\"\nexport * from \"./divisionregion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./divisionregion.vue?vue&type=style&index=0&id=a90e27ec&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a90e27ec\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"waveform\"},[_c('div'),_c('div'),_c('div'),_c('div')])}]\n\nexport { render, staticRenderFns }","<template>\n        <div class=waveform>\n            <div></div>\n            <div></div>\n            <div></div>\n            <div></div>                        \n        </div>\n    </div>\n</template>\n\n<script>\n\nexport default {\n    props: ['sound'],\n    template:'#sound-template',\n    // data: function () {\n    //     return { data: this.sound }    \n    // },\n    // computed:{\n    //     sounds:function(){\n    //         if(typeof this.data.audio != 'undefined'){\n    //             return this.data.audio;\n    //         }\n    //         return null;\n    //     },                       \n    // },\n    // methods: {\n    //     soundTitle:function(){\n    //         var language = this.$parent.$parent.getLanguage();\n    //         if(this.title != \"undefined\"\n    //             && this.title[language] != \"undefined\"){\n    //                 return this.title[language];\n    //         }\n    //         return \"\";\n    //     },\n    //     playSound:function(){\n    //         // var isPlaying = this.isPlaying(index);\n    //         // this.$parent.$emit('stop-sounds');\n    //         // if(typeof this.sounds[index] != \"undefined\"){\n    //         //     if(isPlaying){\n    //         //         this.sounds[index].sound.stop();\n    //         //     }else{\n    //         //         this.sounds[index].sound.play();\n    //         //     } \n    //         // }\n    //         this.$forceUpdate();\n    //     },\n    //     isPlaying:function(){\n    //         return this.sound.playing();\n    //     },   \n    //     onStopSound:function(){\n    //         this.sound.stop();\n    //         this.$forceUpdate();            \n    //     },\n    // },\n    // mounted:function () {\n    // ///    this.$parent.$on('stop-sounds', this.onStopSound);\n    // }\n}\n\n</script>\n\n<style scoped>\n\n\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sound.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sound.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./sound.vue?vue&type=template&id=3176a074&scoped=true&\"\nimport script from \"./sound.vue?vue&type=script&lang=js&\"\nexport * from \"./sound.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3176a074\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <div v-if=\"!view\" class=\"error-message\">No view data found!</div>  \n    <div class=\"main-screen\" ref=\"mainScreen\">\n        <div class=\"main-background\" ref=\"mainBackground\" :style=\"{backgroundImage: 'url(' + backgroundImageUrl + ')'}\">\n            <div class=\"shadow-background\" ref=\"shadowBackground\" :style=\"{backgroundImage: 'url(' + shadowImageUrl + ')'}\"></div>\n        </div>\n        <sector v-for=\"(sector, index) in sectors\" :key=\"index\" :sector=\"sector\"></sector>\n    </div>\n    <div class=\"clip-screen\">\n        <svg v-if=\"divisions&&!selectedDivision\">\n            <divisionregion v-for=\"(sector, index) in sectors\" :key=\"index\" :sector=\"sector\"></divisionregion>\n        </svg>\n        <svg>\n            <clipregion v-for=\"(sector, index) in sectors\" :key=\"index\" :sector=\"sector\"></clipregion>\n        </svg>\n    </div>\n    <div class=\"detail-screen\" ref=\"detailScreen\">\n        <div class=\"detail-3d\">\n            <div class=\"detail-frame\" ref=\"detailCarousel\">\n                <detail v-for=\"(sector, index) in sectors\" v-if=\"renderDetailView(index)\" :key=\"index\" :sector=\"sector\"></detail>\n            </div>\n        </div>\n        <div class=\"navigation\">\n            <div v-if=\"getPreviousDetailViewId()!=null\" class=\"button-prev\" v-on:click=\"movePrev\"></div>\n            <div v-if=\"getNextDetailViewId()!=null\" class=\"button-next\" v-on:click=\"moveNext\"></div>\n            <div class=\"button-exit\" v-on:click=\"closeDetailView\"></div>\n            <div class=\"language\">\n                <div class=\"flag ru\" :class=\"{active:(getLanguage()=='ru')}\" v-on:click=\"setLanguage('ru')\"></div>\n                <div class=\"flag en\" :class=\"{active:(getLanguage()=='en')}\" v-on:click=\"setLanguage('en')\"></div>\n                <div class=\"flag lv\" :class=\"{active:(getLanguage()=='lv')}\" v-on:click=\"setLanguage('lv')\"></div>\n            </div>\n        </div>\n    </div>\n  </div>\n</template>\n<script>\n\nimport sector from './components/sector.vue'\nimport clipregion from './components/clipregion.vue'\nimport detail from './components/detail.vue'\nimport divisionregion from './components/divisionregion.vue'\nimport {radiansToDegrees} from './components/common.js'\nimport sound from './components/sound.vue'\n\nexport default {\n    name: 'app',\n    data: function(){return {\n            view: null,\n            language:'lv',\n            selectedDetail:null,\n            mouseState:[0, 0, 0, 0, 0, 0, 0, 0, 0],\n            mouseDownCount:0,\n            rotationStep:0,\n            currentShakeIndex:0,\n            passiveMode:false,\n            userInputTimer:null,\n            config:{\n                userInputTimeout:5000,\n                detailRotationDuration:650,\n            },\n            hasDivisions:false,\n            selectedDivision:null\n        }\n    },\n    components: {\n        sector,\n        clipregion,\n        detail,\n        divisionregion\n    },\n    computed:{\n        divisions:function(){\n\n            return false;\n        },\n        sectors:function () {\n            if(this.view && typeof this.view.sectors != 'undefined'){\n                return this.view.sectors;\n            }\n            return false;\n        },\n        backgroundImageUrl:function(){\n            if(this.view && typeof this.view.mainBackground != \"undefined\"){\n                return this.view.mainBackground;\n            }\n            return '';\n        },\n        shadowImageUrl:function(){\n            if(this.view && typeof this.view.mainShadow != \"undefined\"){\n                return this.view.mainShadow;\n            }\n            return '';\n        },\n        detailBackgroundImageUrl:function(){\n            if(this.view && typeof this.view.detailBackground != \"undefined\"){\n                return this.view.detailBackground;\n            }\n            return '';\n        }\n    },\n    methods:{\n        init:function () {\n            var id = null;            \n            if (typeof window.location.search != 'undefined'\n               && window.location.search.length > 0\n            ) {\n                var result = window.location.search.match(/\\?id=(\\d+)/);                \n                if(typeof result[1] != 'undefined') {                \n                    id = result[1];\n                }\n            } else {\n                var path = window.location.pathname.split('/');\n                id = parseInt(path[1]);\n            }\n            if (id != null) {\n                this.$http.get('/resources/view_'+id+'/config.json').then(function(response) {\n                    this.view = response.body;\n                    this.initAudio();\n                }, function(){});\n            }\n        },\n        selectDetailView:function(id){\n            if (this.selectedDetail != null) {\n                //Init detail view to default state\n                this.initDetailView();\n                this.$emit('move-out', id);\n                //Fade in detail view background\n                Velocity(this.$refs.detailScreen,{\n                    opacity:1\n                }, { duration: 1000,\n                    display: \"block\"\n                });\n                Velocity(this.$refs.shadowBackground, {\n                    opacity: 0,\n                }, {duration:300,delay: 100,});\n            }\n        },\n        //Set up default position, visibility and opacity\n        initDetailView:function(){\n            Velocity(this.$refs.detailScreen,{ opacity: 0 }, { display: \"none\" });\n            this.rotateDetailView(this.selectedDetail, true);\n        },\n        closeDetailView:function(){\n\n            var parent = this;\n\n            //Fade off detail view background\n            Velocity(this.$refs.detailScreen,{\n                opacity:0\n            }, { duration: 600,\n                display: \"none\",\n                complete:function(){\n                    parent.selectedDetail = null;\n                }\n            });\n\n            this.$emit('stop-sounds');\n\n            this.$emit('move-in');\n\n            Velocity(parent.$refs.shadowBackground, {\n                opacity: 1,\n            }, {duration:500});\n\n            Velocity(this.$refs.mainBackground,{\n                blur:0\n            }, { duration: 1000});\n\n            this.userInputActivation();\n        },\n        getNextDetailViewId:function(){\n            if(this.selectedDetail != null){\n                if(typeof this.sectors[(this.selectedDetail + 1)] != 'undefined'){\n                    return (this.selectedDetail + 1);\n                }\n            }\n            return null;\n        },\n        getPreviousDetailViewId:function(){\n            if(this.selectedDetail != null){\n                if(this.selectedDetail > 0\n                    && typeof this.sectors[(this.selectedDetail - 1)] != 'undefined'){\n\n                    return (this.selectedDetail - 1);\n                }\n            }\n            return null;\n        },\n        renderDetailView:function(index){\n            if(this.selectedDetail != null && index == this.selectedDetail)return true;\n\n            var next = this.getNextDetailViewId();\n            if(next != null && index == next)return true;\n\n            var prev = this.getPreviousDetailViewId();\n            if(prev != null && index == prev)return true;\n\n            return false;\n        },\n        rotateDetailView:function(targetIndex, imediate = false){\n            var angle = targetIndex * this.rotationStep;\n            var parent = this;\n            var duration = this.config.detailRotationDuration;\n            if(imediate)duration = 0;\n\n            Velocity(this.$refs.detailCarousel,\"finish\");\n\n            this.$emit('carousel-slide-start', this.selectedDetail, targetIndex);\n\n            parent.selectedDetail = targetIndex;\n\n            Velocity(this.$refs.detailCarousel,{\n                rotateY:-angle\n            }, {\n                duration: duration,\n                easing: \"ease\"\n            });\n        },\n        moveNext:function(){\n            this.$emit('stop-sounds');\n            var index = this.getNextDetailViewId();\n            if(index != null) {\n                this.rotateDetailView(index);\n            }\n        },\n        movePrev:function(){\n            this.$emit('stop-sounds');\n            var index = this.getPreviousDetailViewId();\n            if(index != null) {\n                this.rotateDetailView(index);\n            }\n        },\n        switchLanguage:function(language){\n            this.language = language;\n        },\n        blurEffect:function(on){\n\n            Velocity(this.$refs.mainBackground,\"finish\");\n\n            var value = 0;\n            var zoom = 600;\n            if(on){\n                value = 3;\n                zoom = 300;\n            }\n            Velocity(this.$refs.mainBackground,{\n                blur:value\n            }, { duration: 1000});\n\n            // Velocity(this.$refs.mainScreen,{\n            //     perspective:zoom\n            // }, { duration: 1000});\n        },\n        //Sector is grabbed => hightlight it or blur out rest\n        onSectorGrabEvent:function (index) {\n        //    console.log('grab '+index);\n            if(typeof index == 'undefined')return;\n            if(this.selectedDetail == null){\n                this.$emit('blur-effect-on', index);\n            }\n        },\n        //Sector is released => activate detail view\n        onSectorReleaseEvent:function (index) {\n            if(typeof index == 'undefined')return;\n            if(this.selectedDetail == null){\n                this.selectedDetail = index;\n                this.selectDetailView(index);\n            }\n        },\n        //Sector is left => return to normal state\n        onSectorLeaveEvent:function (index) {\n        //    console.log('leave '+index);\n            if(typeof index == 'undefined')return;\n            if(this.selectedDetail == null){\n                this.$emit('blur-effect-off');\n            }\n        },\n        onBlurEffectOn:function(excludeIndex){\n            this.blurEffect(true);\n        },\n        onBlurEffectOff:function(){\n            this.blurEffect(false);\n        },\n        onMouseDown:function (e) {\n            ++this.mouseState[e.button];\n            ++this.mouseDownCount;\n        },\n        onMouseUp:function (e) {\n            --this.mouseState[e.button];\n            --this.mouseDownCount;\n        },\n        getLanguage:function(){\n            return this.language;\n        },\n        setLanguage:function(lang){\n            this.language = lang;\n        },\n\n        startShakeNext:function(){\n            if(this.passiveMode && this.selectedDetail == null){\n                this.currentShakeIndex = (this.currentShakeIndex + 1)%this.sectors.length;\n                this.$emit('shake', this.currentShakeIndex);\n                setTimeout(this.startShakeNext, 500);\n            }\n        },\n        userInputActivation:function(){\n\n            this.passiveMode = false;\n\n            if(this.userInputTimer){\n                clearTimeout(this.userInputTimer);\n                this.userInputTimer = null;\n            }\n            var parent = this;\n            this.userInputTimer = setTimeout(function(){\n                if(this.selectedDetail != null)return;\n                parent.passiveMode = true;\n                parent.startShakeNext();\n            }, this.config.userInputTimeout);\n        },\n        initAudio:function(){\n            var parent = this;\n            if(this.view && typeof this.view.sectors != 'undefined'){\n                for(var i=0; i<this.view.sectors.length; i++){\n                    if(typeof this.view.sectors[i].audio != \"undefined\"){\n                        for(var a=0; a<this.view.sectors[i].audio.length; a++){\n                            var audioFile = this.view.sectors[i].audio[a].fileName;\n                            this.view.sectors[i].audio[a].sound = new Howl({\n                                src: [audioFile],\n                                preload:true,\n                                onload:function(){\n                                    this.play();\n                                    this.stop();\n                                },\n                                onend:function(){\n                                    parent.$emit('stop-sounds');\n                                }\n                            });\n                        }\n                    }\n                }\n            }\n        },\n        onMouseMove:function (e) {\n            this.userInputActivation();\n        },\n    },\n    mounted:function(){\n\n        this.init();\n\n        document.addEventListener('mousedown', this.onMouseDown);\n        document.addEventListener('mouseup', this.onMouseUp);\n        document.addEventListener('mousemove', this.onMouseMove);\n        document.addEventListener('touchmove', this.onMouseMove);\n\n        this.$on('blur-effect-event', this.blurEffect);\n        this.$on('blur-effect-on', this.onBlurEffectOn);\n        this.$on('blur-effect-off', this.onBlurEffectOff);\n        this.$on('sector-grab', this.onSectorGrabEvent);\n        this.$on('sector-release', this.onSectorReleaseEvent);\n        this.$on('sector-leave', this.onSectorLeaveEvent);\n\n        this.initDetailView();\n\n        this.rotationStep = 2 * radiansToDegrees(Math.atan((1024/2)/3000));\n\n        this.userInputActivation();\n\n        // Velocity(this.$refs.mainScreen, {\n        //     translateX:'250px',            \n        //     translateY:'-50px',\n        //     translateZ:'1000px'\n        // }, 0);\n    },\n    beforeDestroy: function () {\n        document.removeEventListener('mousemove', this.onMouseMove);\n        document.removeEventListener('click', this.onClick);\n    },\n}\n</script>\n<style>\n    @font-face {\n        font-family: \"customFont\";\n        src: url(\"/resources/font.ttf\");\n    }\n    body{\n        background-color: rgb(48, 48, 48);\n        font-family: \"customFont\";\n        overflow: hidden;\n        user-select: none;\n    }\n    #app {\n        width:1024px;\n        height:768px;\n        position:absolute;\n        top:0px;\n        left:0px;\n        overflow: hidden;\n        display:block;\n        perspective: 4000px;\n        transform-style: preserve-3d;\n    }\n    .main-screen{\n        position:absolute;\n        left:0px;\n        top:0px;\n        width:1024px;\n        height:768px;\n        perspective: 600px;\n        transform: rotateX(0deg) rotateY(0deg);\n        transform-style: preserve-3d;\n    }\n    .main-background{\n        position:absolute;\n        left:-215px;\n        top:-69px;\n        width:1378px;\n        height:868px;\n        background-repeat: round;\n    }\n    .main-background .shadow-background{\n        position:relative;\n        width:100%;\n        height:100%;\n        background-repeat: round;\n    }    \n    .clip-screen{\n        position:absolute;\n        left:0px;\n        top:0px;\n        width:1024px;\n        height:768px;\n    }\n    .clip-screen svg{\n        width:100%;\n        height:100%;\n    }\n    .detail-screen{\n        width:1024px;\n        height:768px;\n        position:absolute;\n        top:0px;\n        left:0px;\n        background-repeat: round;\n    }\n    .detail-3d{\n        position:absolute;\n        left:0px;\n        top:0px;\n        width:1024px;\n        height:768px;\n        perspective: 300px;\n        transform: rotateX(0deg) rotateY(0deg);\n    }\n    .detail-frame{\n        position:absolute;\n        left:0px;\n        top:0px;\n        width:1024px;\n        height:768px;\n        transform-style: preserve-3d;\n        transform: rotateX(0deg) rotateY(0deg);\n        transform-origin: 512px 0 -3000px;\n    }\n    .detail-screen .navigation {\n        position: absolute;\n        bottom:0px;\n        left:0px;\n        width:1024px;\n        height:80px;\n    }\n\n    .language{\n        width:100%;\n        position:fixed;\n        bottom:0px;\n        text-align:center;\n        z-index:500;\n    }\n    .flag{\n        display: inline-block;\n        width:50px;\n        height:37px;\n        background-repeat: round;\n        transition: width 400ms, height 400ms,  opacity 400ms;\n        box-shadow: 0px -4px 8px 1px rgba(0,0,0,0.75);\n        border-radius: 5px;\n        opacity:0.5;\n        margin-left:3px;\n        mergin-right:3px;\n    }\n    .flag.lv{\n        background-image: url(\"/resources/lv_flag.png\");\n    }\n    .flag.ru{\n        background-image: url(\"/resources/ru_flag.png\");\n    }\n    .flag.en{\n        background-image: url(\"/resources/en_flag.png\");\n    }\n    .flag.active{\n        width:90px;\n        height:60px;\n        transition: width 400ms, height 400ms, opacity 400ms;\n        border-radius: 9px;\n        opacity:1;\n    }\n\n    .button-prev{\n        position:fixed;\n        left: 0px;\n        bottom:0px;\n        background-image: url(\"/resources/button_return.png\");\n        width:100px;\n        height:100px;\n        background-repeat: round;\n        z-index:999;\n        opacity: 0.4;\n        transition: opacity 200ms;\n    }\n    .button-prev:hover{\n        background-image: url(\"/resources/button_return_on.png\");\n        opacity: 1;\n        transition: opacity 200ms;\n    }\n    .button-next{\n        position:fixed;\n        right: 0px;\n        bottom:0px;\n        background-image: url(\"/resources/button_return.png\");\n        width:100px;\n        height:100px;\n        background-repeat: round;\n        transform: scaleX(-1);\n        z-index:999;\n        opacity: 0.4;\n        transition: opacity 200ms;\n    }\n    .button-next:hover{\n        background-image: url(\"/resources/button_return_on.png\");\n        opacity: 1;\n        transition: opacity 200ms;\n    }\n    .button-exit{\n        position:fixed;\n        right: 0px;\n        top:0px;\n        background-image: url(\"/resources/button_exit.png\");\n        width:100px;\n        height:100px;\n        background-repeat: round;\n        z-index:999;\n        opacity: 0.4;\n        transition: opacity 200ms;\n    }\n    .button-exit:hover{\n        background-image: url(\"/resources/button_exit_on.png\");\n        opacity: 1;\n        transition: opacity 200ms;\n    }\n    .error-message{\n        margin:20px;\n        color: rgb(221, 0, 0);\n        font-size: 30px;\n    }    \n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./application.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./application.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./application.vue?vue&type=template&id=0a971de9&\"\nimport script from \"./application.vue?vue&type=script&lang=js&\"\nexport * from \"./application.vue?vue&type=script&lang=js&\"\nimport style0 from \"./application.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueResource from 'vue-resource'\nimport {Howl, Howler} from 'howler';\nimport Velocity from 'velocity-animate'\nimport App from './application.vue'\n\nVue.use(VueResource);\n\nnew Vue({\n    render: h => h(App)\n}).$mount('#app')","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./divisionregion.vue?vue&type=style&index=0&id=a90e27ec&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./divisionregion.vue?vue&type=style&index=0&id=a90e27ec&scoped=true&lang=css&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./application.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./application.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./clipregion.vue?vue&type=style&index=0&id=1dde511f&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./clipregion.vue?vue&type=style&index=0&id=1dde511f&scoped=true&lang=css&\""],"sourceRoot":""}