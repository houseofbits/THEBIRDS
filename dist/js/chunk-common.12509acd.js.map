{"version":3,"sources":["webpack:///./src/components/sector.vue?620b","webpack:///./src/application.vue?82d3","webpack:///./src/components/sector.vue?7cfe","webpack:///./src/components/common.js","webpack:///src/components/sector.vue","webpack:///./src/components/sector.vue?4a95","webpack:///./src/components/sector.vue","webpack:///./src/components/clipregion.vue?f5f5","webpack:///src/components/clipregion.vue","webpack:///./src/components/clipregion.vue?b9b7","webpack:///./src/components/clipregion.vue","webpack:///./src/components/detail.vue?77a0","webpack:///src/components/detail.vue","webpack:///./src/components/detail.vue?71e4","webpack:///./src/components/detail.vue","webpack:///./src/components/divisionregion.vue?ce21","webpack:///src/components/divisionregion.vue","webpack:///./src/components/divisionregion.vue?6fd9","webpack:///./src/components/divisionregion.vue","webpack:///src/application.vue","webpack:///./src/application.vue?ce8d","webpack:///./src/application.vue","webpack:///./src/main.js","webpack:///./src/components/clipregion.vue?3d4d","webpack:///./src/components/divisionregion.vue?9898","webpack:///./src/components/detail.vue?7a85","webpack:///./src/application.vue?2483"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","ref","staticClass","style","backgroundImage","backgroundImageUrl","shadowImageUrl","_l","sector","index","key","divisions","selectedDivision","_e","renderDetailView","getPreviousDetailViewId","on","movePrev","getNextDetailViewId","moveNext","closeDetailView","class","active","getLanguage","$event","setLanguage","staticRenderFns","backgroundImageActiveUrl","Rectangle","str","height","width","indexOf","arr","split","parseFloat","Vector2","x","y","Vector3","z","getRandomArbitrary","min","max","Math","random","radiansToDegrees","radians","pi","PI","props","data","computed","getImageProp","size","polygonPoints","position","methods","name","mainImage","blurEffect","Velocity","$el","value","blur","onBlurEffectOn","excludeIndex","$vnode","onBlurEffectOff","onMoveOut","selectedIndex","parent","delay","blurValue","translateZ","duration","onMoveIn","onShake","rotY","mov","rotateY","easing","complete","elements","rotateX","mounted","$parent","$on","rotation","translateX","translateY","rotateZ","component","onGrab","onRelease","onLeave","$emit","detailBackgroundImageUrl","imageSize","top","imagePosition","left","imageUrl","_v","_s","title","titleLatin","descriptionPosition","description","sound","playing","isPlaying","playSound","soundTitle","_m","template","sounds","audio","language","pos","text","getDetailProp","stop","play","$forceUpdate","onStopSound","i","length","detailImage","onCarouselSlideStart","currentIndex","targetIndex","calculateAngle","positionIndex","halfAngle","atan","view","selectedDetail","mouseState","mouseDownCount","rotationStep","currentShakeIndex","passiveMode","userInputTimer","config","userInputTimeout","detailRotationDuration","hasDivisions","components","clipregion","detail","divisionregion","sectors","mainBackground","mainShadow","detailBackground","init","id","path","window","location","pathname","parseInt","$http","get","then","response","body","initAudio","selectDetailView","initDetailView","$refs","detailScreen","opacity","display","shadowBackground","rotateDetailView","userInputActivation","next","prev","imediate","angle","detailCarousel","switchLanguage","onSectorGrabEvent","onSectorReleaseEvent","onSectorLeaveEvent","onMouseDown","e","button","onMouseUp","lang","startShakeNext","setTimeout","clearTimeout","a","audioFile","fileName","Howl","src","preload","onload","onend","onMouseMove","document","addEventListener","beforeDestroy","removeEventListener","onClick","use","h","$mount"],"mappings":"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","file":"js/chunk-common.12509acd.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sector.vue?vue&type=style&index=0&id=89dd5714&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sector.vue?vue&type=style&index=0&id=89dd5714&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{ref:\"mainScreen\",staticClass:\"main-screen\"},[_c('div',{ref:\"mainBackground\",staticClass:\"main-background\",style:({backgroundImage: 'url(' + _vm.backgroundImageUrl + ')'})},[_c('div',{ref:\"shadowBackground\",staticClass:\"shadow-background\",style:({backgroundImage: 'url(' + _vm.shadowImageUrl + ')'})})]),_vm._l((_vm.sectors),function(sector,index){return _c('sector',{key:index,attrs:{\"sector\":sector}})})],2),_c('div',{staticClass:\"clip-screen\"},[(_vm.divisions&&!_vm.selectedDivision)?_c('svg',_vm._l((_vm.sectors),function(sector,index){return _c('divisionregion',{key:index,attrs:{\"sector\":sector}})}),1):_vm._e(),_c('svg',_vm._l((_vm.sectors),function(sector,index){return _c('clipregion',{key:index,attrs:{\"sector\":sector}})}),1)]),_c('div',{ref:\"detailScreen\",staticClass:\"detail-screen\"},[_c('div',{staticClass:\"detail-3d\"},[_c('div',{ref:\"detailCarousel\",staticClass:\"detail-frame\"},_vm._l((_vm.sectors),function(sector,index){return (_vm.renderDetailView(index))?_c('detail',{key:index,attrs:{\"sector\":sector}}):_vm._e()}),1)]),_c('div',{staticClass:\"navigation\"},[(_vm.getPreviousDetailViewId()!=null)?_c('div',{staticClass:\"button-prev\",on:{\"click\":_vm.movePrev}}):_vm._e(),(_vm.getNextDetailViewId()!=null)?_c('div',{staticClass:\"button-next\",on:{\"click\":_vm.moveNext}}):_vm._e(),_c('div',{staticClass:\"button-exit\",on:{\"click\":_vm.closeDetailView}}),_c('div',{staticClass:\"language\"},[_c('div',{staticClass:\"flag ru\",class:{active:(_vm.getLanguage()=='ru')},on:{\"click\":function($event){return _vm.setLanguage('ru')}}}),_c('div',{staticClass:\"flag en\",class:{active:(_vm.getLanguage()=='en')},on:{\"click\":function($event){return _vm.setLanguage('en')}}}),_c('div',{staticClass:\"flag lv\",class:{active:(_vm.getLanguage()=='lv')},on:{\"click\":function($event){return _vm.setLanguage('lv')}}})])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sector\",style:({backgroundImage: 'url(' + _vm.backgroundImageUrl + ')'})},[(_vm.backgroundImageActiveUrl)?_c('div',{staticClass:\"active\",style:({backgroundImage: 'url(' + _vm.backgroundImageActiveUrl + ')'})}):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\nexport class Rectangle {\n    constructor(str) {\n      this.height = 0;\n      this.width = 0;\n      if(str && str.indexOf(',') > 0){\n          var arr = str.split(',');\n          if(typeof arr[0] != 'undefined')this.width = parseFloat(arr[0]);\n          if(typeof arr[1] != 'undefined')this.height = parseFloat(arr[1]);        \n      }\n    }\n  }\n  \n  export class Vector2 {\n      constructor(str) {\n          this.x = 0;\n          this.y = 0;\n          if(str && str.indexOf(',') > 0){\n              var arr = str.split(',');\n              if(typeof arr[0] != 'undefined')this.x = parseFloat(arr[0]);\n              if(typeof arr[1] != 'undefined')this.y = parseFloat(arr[1]);\n          }\n      }\n  }\n  \n  export class Vector3 {\n    constructor(str) {\n      this.x = 0;\n      this.y = 0;\n      this.z = 0;\n      if(str && str.indexOf(',') > 0){\n          var arr = str.split(',');\n          if(typeof arr[0] != 'undefined')this.x = parseFloat(arr[0]);\n          if(typeof arr[1] != 'undefined')this.y = parseFloat(arr[1]);\n          if(typeof arr[2] != 'undefined')this.z = parseFloat(arr[2]);                \n      }\n    }\n  }\n  \n  export function getRandomArbitrary(min, max) {\n      return Math.random() * (max - min) + min;\n    }\n \n export function radiansToDegrees(radians)\n {\n     var pi = Math.PI;\n     return radians * (180/pi);\n }   ","<template>\n    <div class=\"sector\" :style=\"{backgroundImage: 'url(' + backgroundImageUrl + ')'}\">\n        <div v-if=\"backgroundImageActiveUrl\" class=\"active\" :style=\"{backgroundImage: 'url(' + backgroundImageActiveUrl + ')'}\"></div>\n    </div>\n</template>\n\n<script>\n\nimport {Vector3, Vector2, Rectangle, getRandomArbitrary} from './common.js'\n\nexport default {\n    props: ['sector'],\n    data: function () {\n        return { data: this.sector }\n    },\n    computed:{\n        backgroundImageUrl:function(){\n            return this.getImageProp('image');\n        },\n        backgroundImageActiveUrl:function(){\n            return this.getImageProp('imageActive');\n        },\n        width:function(){\n            var size = new Rectangle(this.getImageProp('size'));\n            return size.width;\n        },\n        height:function(){\n            var size = new Rectangle(this.getImageProp('size'));\n            return size.height;\n        },\n        polygonPoints:function(){\n            return this.getImageProp('clipPolygon');\n        },\n        position:function(){\n            return new Vector3(this.getImageProp('position'));\n        }\n    },\n    methods: {\n        getImageProp:function(name){\n            if(this.data && typeof this.data.mainImage != 'undefined'){\n                if(typeof this.data.mainImage[name] != 'undefined'){\n                    return this.data.mainImage[name];\n                }\n            }\n            return '';\n        },\n        blurEffect:function(on){\n\n            Velocity(this.$el,\"finish\");\n\n            var value = 0;\n            if(on){\n                value = 5;  //this.getImageProp('maxBlur');\n            }\n\n            Velocity(this.$el,{\n                blur:value\n            }, 500);\n        },\n        onBlurEffectOn:function(excludeIndex){\n            if (excludeIndex != this.$vnode.key) {\n                this.blurEffect(true);\n            } else {\n                this.blurEffect(false);\n            }\n        },\n        onBlurEffectOff:function(){\n            this.blurEffect(false);\n        },\n        onMoveOut:function(selectedIndex){\n            var parent = this;\n            var delay = getRandomArbitrary(0,300);\n            var blurValue = this.getImageProp('maxBlur');\n            if(selectedIndex == this.$vnode.key){\n                delay = 0;\n            }\n            Velocity(this.$el, {\n                translateZ:parent.position.z + 800,\n                blur:blurValue\n            }, {\n                delay:delay,\n                duration: 600,\n            });\n        },\n        onMoveIn:function(){\n            var parent = this;\n            var delay = getRandomArbitrary(0,300);\n            Velocity(this.$el, {\n                translateZ:parent.position.z,\n                blur:4\n            }, {\n                delay:delay,\n                duration: 400,\n            });\n            Velocity(this.$el, {\n                blur:0\n            }, 100);\n        },\n        onShake:function(index){\n            if(index == this.$vnode.key){\n                var parent = this;\n\n                var rotY = 0;   //getRandomArbitrary(-20,20);\n                var mov = getRandomArbitrary(0,50)\n                \n                Velocity(this.$el, {\n                    translateZ:parent.position.z + mov,\n                    rotateY:rotY,\n                }, {\n                    duration: 300,\n                    easing: \"swing\",\n                    complete:function(elements){\n                                                \n                        Velocity(parent.$el, {\n                            translateZ:parent.position.z,\n                            rotateX:0,\n                            rotateY:0,\n                        },200);\n\n                    } });                \n            }\n        }        \n    },\n    mounted:function () {\n\n        this.$parent.$on('blur-effect-event', this.blurEffect);\n        this.$parent.$on('blur-effect-on', this.onBlurEffectOn);\n        this.$parent.$on('blur-effect-off', this.onBlurEffectOff);\n        this.$parent.$on('move-out', this.onMoveOut);\n        this.$parent.$on('move-in', this.onMoveIn);\n        this.$parent.$on('shake', this.onShake);\n\n        var position = new Vector3(this.getImageProp('position'));\n        var rotation = new Vector3(this.getImageProp('rotation'));\n        var size = new Rectangle(this.getImageProp('size'));\n\n        Velocity(this.$el, {\n            translateX:position.x,\n            translateY:position.y,\n            translateZ:position.z,\n            rotateX:rotation.x,\n            rotateY:rotation.y,\n            rotateZ:rotation.z,\n            width:size.width,\n            height:size.height\n        }, 0);\n        \n    }    \n}\n</script>\n\n<style scoped>\n\n  .sector{\n      position: absolute;\n      background-repeat: round;\n  }\n  .sector .active{\n      position:relative;\n      width:100%;\n      height:100%;\n      top:0px;\n      left:0px;\n      background-repeat: round;\n  }\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./sector.vue?vue&type=template&id=89dd5714&scoped=true&\"\nimport script from \"./sector.vue?vue&type=script&lang=js&\"\nexport * from \"./sector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./sector.vue?vue&type=style&index=0&id=89dd5714&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"89dd5714\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.polygonPoints)?_c('polygon',{staticClass:\"polygon\",attrs:{\"points\":_vm.polygonPoints},on:{\"mousedown\":_vm.onGrab,\"mouseup\":_vm.onRelease,\"mouseover\":_vm.onGrab,\"mouseleave\":_vm.onLeave,\"touchstart\":_vm.onGrab,\"touchend\":_vm.onRelease}}):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <polygon v-if=\"polygonPoints\" :points=\"polygonPoints\" class=\"polygon\"\n    v-on:mousedown=\"onGrab\"\n    v-on:mouseup=\"onRelease\"\n    v-on:mouseover=\"onGrab\"\n    v-on:mouseleave=\"onLeave\"\n    v-on:touchstart=\"onGrab\"\n    v-on:touchend=\"onRelease\">\n    </polygon>\n</template>\n\n<script>\nexport default {\n    props: ['sector'],\n    data: function () {\n        return { data: this.sector }\n    },\n    computed:{\n        polygonPoints:function(){\n            if(this.data && typeof this.data.mainImage != 'undefined'){\n                if(typeof this.data.mainImage['clipPolygon'] != 'undefined'){\n                    return this.data.mainImage['clipPolygon'];\n                }\n            }\n            return false;            \n        },\n    },\n    methods:{\n        //mousedown/mouseover or touchstart\n        onGrab:function(){\n            this.$parent.$emit('sector-grab', this.$vnode.key);\n        },\n        ///mouseup or touchend\n        onRelease(){\n            this.$parent.$emit('sector-release', this.$vnode.key);\n        },\n        //mouseout\n        onLeave(){\n            this.$parent.$emit('sector-leave', this.$vnode.key);\n        }\n    }\n}\n</script>\n\n<style scoped>\n    .polygon{\n        fill:yellow;\n        stroke:blue;\n        stroke-width:2px;\n        fill-rule:evenodd;\n        opacity:0.0;\n    }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./clipregion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./clipregion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./clipregion.vue?vue&type=template&id=2be0b71c&scoped=true&\"\nimport script from \"./clipregion.vue?vue&type=script&lang=js&\"\nexport * from \"./clipregion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./clipregion.vue?vue&type=style&index=0&id=2be0b71c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2be0b71c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-element\",style:({backgroundImage: 'url(' + _vm.detailBackgroundImageUrl + ')'})},[_c('div',{staticClass:\"detail-content\"},[_c('div',{staticClass:\"image\",style:({\n            width:_vm.imageSize.width + 'px',\n            height:_vm.imageSize.height + 'px',\n            top:_vm.imagePosition.y + 'px',\n            left:_vm.imagePosition.x + 'px',\n            backgroundImage: 'url(' + _vm.imageUrl + ')'\n        })}),_c('div',{staticClass:\"title\"},[_c('span',[_vm._v(_vm._s(_vm.title))])]),_c('div',{staticClass:\"title-latin\"},[_c('span',[_vm._v(_vm._s(_vm.titleLatin))])]),_c('div',{staticClass:\"description\",style:({left:_vm.descriptionPosition.x+'px',top:_vm.descriptionPosition.y+'px'})},[_c('span',[_vm._v(_vm._s(_vm.description))])]),_c('div',{staticClass:\"sounds\"},_vm._l((_vm.sounds),function(sound,index){return _c('div',{key:index,class:{playing:_vm.isPlaying(index)},on:{\"click\":function($event){return _vm.playSound(index)}}},[_c('span',{staticClass:\"icon\"}),_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.soundTitle(index)))]),_vm._m(0,true)])}),0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"waveform\"},[_c('div'),_c('div'),_c('div'),_c('div')])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"detail-element\" :style=\"{backgroundImage: 'url(' + detailBackgroundImageUrl + ')'}\">\n        <div class=\"detail-content\">\n            <div class=\"image\" :style=\"{\n                width:imageSize.width + 'px',\n                height:imageSize.height + 'px',\n                top:imagePosition.y + 'px',\n                left:imagePosition.x + 'px',\n                backgroundImage: 'url(' + imageUrl + ')'\n            }\"></div>\n            <div class=\"title\"><span>{{title}}</span></div>\n            <div class=\"title-latin\"><span>{{titleLatin}}</span></div>\n            <div class=\"description\" :style=\"{left:descriptionPosition.x+'px',top:descriptionPosition.y+'px'}\"><span>{{description}}</span></div>\n            <div class=\"sounds\">\n                <div v-for=\"(sound, index) in sounds\" :key=\"index\" :class=\"{playing:isPlaying(index)}\" v-on:click=\"playSound(index)\">\n                    <span class=\"icon\"></span>\n                    <span class=\"title\">{{soundTitle(index)}}</span>\n                    <div class=waveform>\n                        <div></div>\n                        <div></div>\n                        <div></div>\n                        <div></div>                        \n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n\nimport {Vector3, Vector2, Rectangle, getRandomArbitrary, radiansToDegrees} from './common.js'\n\nexport default {\n    props: ['sector'],\n    template:'#detail-template',\n    data: function () {\n        return { data: this.sector }\n    },\n    computed:{\n        sounds:function(){\n            if(typeof this.data.audio != 'undefined'){\n                return this.data.audio;\n            }\n            return null;\n        },\n        descriptionPosition:function(){\n            if(typeof this.data.description != 'undefined'){\n                var language = this.$parent.getLanguage();\n\n                if(typeof this.data.description[language] == \"object\" && \n                typeof this.data.description[language].position != \"undefined\"){\n                    var pos = new Vector2(this.data.description[language].position);\n                    return pos;\n                }\n                if(typeof this.data.description.position != 'undefined'){\n                    var pos = new Vector2(this.data.description.position);\n                    return pos;\n                }\n            }\n            return new Vector2(null);\n        },\n        detailBackgroundImageUrl:function(){\n            return this.$parent.detailBackgroundImageUrl;\n        },\n        title:function(){\n            var language = this.$parent.getLanguage();\n\n            if(typeof this.data.title != 'undefined'\n                && typeof this.data.title[language] != 'undefined'){\n                return this.data.title[language];\n            }\n            return 'No title [' + this.$vnode.key + ']';\n        },\n        titleLatin:function(){\n            if(typeof this.data.titleLatin != 'undefined'){\n                return this.data.titleLatin;\n            }\n            return '';\n        },\n        description:function(){\n            var language = this.$parent.getLanguage();\n\n            if(typeof this.data.description != 'undefined'\n                && typeof this.data.description[language] != 'undefined'){\n\n                if(typeof this.data.description[language] == \"object\" && \n                typeof this.data.description[language].text != \"undefined\"){\n                    return this.data.description[language].text;\n                }\n                return this.data.description[language];\n            }\n            return '';\n        },\n        imageUrl:function(){\n            return this.getDetailProp('image');\n        },\n        imageSize:function(){\n            return new Rectangle(this.getDetailProp('size'));\n        },        \n        imagePosition:function(){\n            return new Vector2(this.getDetailProp('position'));\n        },                        \n    },\n    methods: {\n        soundTitle:function(index){\n            var language = this.$parent.getLanguage();\n            if(this.sounds[index] != \"undefined\" \n                && this.sounds[index].title != \"undefined\"\n                && this.sounds[index].title[language] != \"undefined\"){\n                    return this.sounds[index].title[language];\n            }\n            return \"\";\n        },\n        playSound:function(index){\n            var isPlaying = this.isPlaying(index);\n            this.$parent.$emit('stop-sounds');\n            if(typeof this.sounds[index] != \"undefined\"){\n                if(isPlaying){\n                    this.sounds[index].sound.stop();\n                }else{\n                    this.sounds[index].sound.play();\n                } \n            }\n            this.$forceUpdate();\n        },\n        isPlaying:function(index){\n            if(typeof this.sounds[index] != \"undefined\"){\n                return this.sounds[index].sound.playing();\n            }\n            return false;\n        },   \n        onStopSound:function(){\n            if(typeof this.sounds != \"undefined\" && this.sounds){\n                for(var i=0; i<this.sounds.length; i++){\n                    if(typeof this.sounds[i].sound != \"undefined\"){\n                        this.sounds[i].sound.stop();\n                    }                    \n                }\n            }\n            this.$forceUpdate();            \n        },\n        getDetailProp:function(name){\n            if(this.data && typeof this.data.detailImage != 'undefined'){\n                if(typeof this.data.detailImage[name] != 'undefined'){\n                    return this.data.detailImage[name];\n                }\n            }\n            return '';\n        },\n        onCarouselSlideStart:function(currentIndex, targetIndex){\n            if(currentIndex == this.$vnode.key){\n                Velocity(this.$el,{\n                    blur:10\n                }, { duration: 100});\n            }\n            if(targetIndex == this.$vnode.key){\n                Velocity(this.$el,{\n                    blur:10\n                }, 0);\n                Velocity(this.$el,{\n                    blur:0\n                }, { duration: 700});\n            }            \n        },\n        calculateAngle:function(positionIndex){\n            var halfAngle = radiansToDegrees(Math.atan((1024/2)/3000));\n            return ((halfAngle * 2) * positionIndex);\n        },\n    },\n    mounted:function () {\n        this.$parent.$on('carousel-slide-start', this.onCarouselSlideStart);\n        this.$parent.$on('stop-sounds', this.onStopSound);\n\n        Velocity(this.$el, { rotateY:this.calculateAngle(this.$vnode.key) }, 0);\n    }\n}\n</script>\n\n<style scoped>\n    .detail-screen .image {\n        position: absolute;\n        /*border: 1px dashed orange;*/\n        background-repeat: round;    \n    }\n    .title {\n        margin-top:20px;\n        margin-left:20px;\n        font-size: 60px;\n        width:600px;\n        line-height: 60px;\n    }\n    .title span{\n        display: inline;\n        background: linear-gradient(to top, #f5ff81, white);\n        -webkit-background-clip: text;\n        background-clip: text; \n        -webkit-text-fill-color: transparent;      \n        filter: drop-shadow(2px 4px 3px #000);     \n    }\n    .title-latin{\n        margin-top:10px;\n        margin-left:50px;\n        font-size: 40px;\n        width:800px;    \n    }\n    .title-latin span{\n        display: inline;\n        background: linear-gradient(to top, #e5e5e5, white);\n        -webkit-background-clip: text;\n        background-clip: text; \n        -webkit-text-fill-color: transparent;    \n        filter: drop-shadow(2px 2px 2px #000); \n    }\n    .description{\n        text-align: justify;\n        font-size: 30px;\n        line-height: 35px;\n        position:absolute;\n        top:300px;\n        left:20px;\n        width:90%;\n        padding-left: 30px;\n    }\n    .description span{\n        display: inline;\n        background: linear-gradient(to top, #f5ff81, white);\n        -webkit-background-clip: text;\n        background-clip: text; \n        -webkit-text-fill-color: transparent;    \n        filter: drop-shadow(2px 2px 2px #000);    \n    }\n    .detail-element{\n        position:absolute;\n        left:0px;\n        top:-100px;\n        width:1024px;\n        height:968px;\n        transform-origin: 512px 0 -3000px;\n        background-repeat: round;\n    }\n    .detail-content{\n        position:absolute;\n        left:0px;\n        top:100px;\n        width:1024px;\n        height:768px;\n    }\n\n    .sounds{\n        margin-top: 40px;\n    }\n\n    .sounds div{\n        display: block;\n        width: 50%;\n        height: 55px;\n        margin: 0px;\n        margin-left: 50px;\n    }\n    .sounds .icon{\n        display: inline-block;\n        margin:0;\n        width:60px;\n        height:60px;\n        background-image: url('/resources/button_play.png');\n        background-repeat: round;\n    }\n    .sounds .title{\n        display: inline-block;\n        width:auto;\n        height:50px;\n        margin:0;\n        vertical-align: top;\n        color: #f5ff81;\n        font-size: 25px;\n        line-height: 50px;\n        margin-left: 10px;\n\n        background: linear-gradient(to bottom, rgba(252,234,187,1) 0%, rgba(252,205,77,1) 70%, rgba(248,181,0,1) 71%, rgba(251,223,147,1) 100%);\n        -webkit-background-clip: text;\n        background-clip: text; \n        -webkit-text-fill-color: transparent;    \n        filter: drop-shadow(2px 2px 2px #000);     \n    }\n    .sounds .waveform{\n        display:none;\n        vertical-align: top;\n        position: relative;\n        width:50px;\n        height:35px;\n        margin:0;\n        margin-left: 5px;\n    }\n    .sounds .waveform div{\n        position: absolute;\n        margin:0;\n        bottom: 0px;\n        background-color: yellowgreen;\n        width:6px;\n        height: 20px;\n        background: linear-gradient(to bottom, rgba(214,252,0,1) 0%, rgba(117,137,12,1) 100%);\n        filter: drop-shadow(1px 1px 1px #000);   \n        animation-duration: 2s;\n        animation-iteration-count: infinite;\n        border-radius: 2px;\n    }\n    .sounds .waveform div:nth-child(1){\n        animation-name: wkf1;\n        left:0px;\n    }\n    .sounds .waveform div:nth-child(2){\n        animation-name: wkf2;\n        left:10px;\n        height:5px;\n    }\n    .sounds .waveform div:nth-child(3){\n        animation-name: wkf3;\n        left:20px;\n        height:10px;\n    }\n    .sounds .waveform div:nth-child(4){\n        animation-name: wkf4;\n        left:30px;\n        height:25px;\n    }\n\n    @keyframes wkf1 {\n        0%   {height: 35px;}\n        50%   {height: 5px;}    \n        100% {height: 35px;}\n    }\n    @keyframes wkf2 {\n        0%   {height: 5px;}\n        50%   {height: 35px;}    \n        100% {height: 5px;}\n    }\n    @keyframes wkf3 {\n        0%   {height: 10px;}\n        33%   {height: 35px;}    \n        66%   {height: 5px;}        \n        100% {height: 10px;}\n    }\n    @keyframes wkf4 {\n        0%   {height: 25px;}\n        50%   {height: 5px;}    \n        100% {height: 25px;}\n    }      \n\n    .sounds .playing .title{\n        background: linear-gradient(to bottom, rgba(214,252,0,1) 0%, rgba(117,137,12,1) 100%);\n        -webkit-background-clip: text;\n        background-clip: text; \n        -webkit-text-fill-color: transparent;    \n        filter: drop-shadow(2px 2px 2px #000);     \n    }\n    .sounds .playing .icon{\n        background-image: url('/resources/button_play_on.png');\n    }\n    .sounds .playing .waveform{\n        display:inline-block;\n    }    \n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=05e52235&scoped=true&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=05e52235&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05e52235\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.polygonPoints)?_c('polygon',{staticClass:\"polygon-division-reg\",attrs:{\"points\":_vm.polygonPoints},on:{\"mousedown\":_vm.onGrab,\"mouseup\":_vm.onRelease,\"touchstart\":_vm.onGrab,\"touchend\":_vm.onRelease}}):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <polygon v-if=\"polygonPoints\" :points=\"polygonPoints\" class=\"polygon-division-reg\"\n    v-on:mousedown=\"onGrab\"\n    v-on:mouseup=\"onRelease\"\n    v-on:touchstart=\"onGrab\"\n    v-on:touchend=\"onRelease\">\n    </polygon>\n</template>\n\n<script>\nexport default {\n    props: ['sector'],\n    data: function () {\n        return { data: this.sector }\n    },\n    computed:{\n        polygonPoints:function(){\n            if(this.data){\n                if(typeof this.data['clipPolygon'] != 'undefined'){\n                    return this.data['clipPolygon'];\n                }\n            }\n            return false;\n        },\n    },\n    methods:{\n        //mousedown/mouseover or touchstart\n        onGrab:function(){\n            this.$parent.$emit('division-grab', this.$vnode.key);\n        },\n        ///mouseup or touchend\n        onRelease(){\n            this.$parent.$emit('division-release', this.$vnode.key);\n        },\n    }\n}\n</script>\n\n<style scoped>\n    .polygon-division-reg{\n        fill:rgb(255, 0, 43);\n        stroke:rgb(190, 0, 111);\n        stroke-width:2px;\n        fill-rule:evenodd;\n        opacity:0.2;\n    }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./divisionregion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./divisionregion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./divisionregion.vue?vue&type=template&id=a90e27ec&scoped=true&\"\nimport script from \"./divisionregion.vue?vue&type=script&lang=js&\"\nexport * from \"./divisionregion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./divisionregion.vue?vue&type=style&index=0&id=a90e27ec&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a90e27ec\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <div class=\"main-screen\" ref=\"mainScreen\">\n        <div class=\"main-background\" ref=\"mainBackground\" :style=\"{backgroundImage: 'url(' + backgroundImageUrl + ')'}\">\n            <div class=\"shadow-background\" ref=\"shadowBackground\" :style=\"{backgroundImage: 'url(' + shadowImageUrl + ')'}\"></div>\n        </div>\n        <sector v-for=\"(sector, index) in sectors\" :key=\"index\" :sector=\"sector\"></sector>\n    </div>\n    <div class=\"clip-screen\">\n        <svg v-if=\"divisions&&!selectedDivision\">\n            <divisionregion v-for=\"(sector, index) in sectors\" :key=\"index\" :sector=\"sector\"></divisionregion>\n        </svg>\n        <svg>\n            <clipregion v-for=\"(sector, index) in sectors\" :key=\"index\" :sector=\"sector\"></clipregion>\n        </svg>\n    </div>\n    <div class=\"detail-screen\" ref=\"detailScreen\">\n        <div class=\"detail-3d\">\n            <div class=\"detail-frame\" ref=\"detailCarousel\">\n                <detail v-for=\"(sector, index) in sectors\" v-if=\"renderDetailView(index)\" :key=\"index\" :sector=\"sector\"></detail>\n            </div>\n        </div>\n        <div class=\"navigation\">\n            <div v-if=\"getPreviousDetailViewId()!=null\" class=\"button-prev\" v-on:click=\"movePrev\"></div>\n            <div v-if=\"getNextDetailViewId()!=null\" class=\"button-next\" v-on:click=\"moveNext\"></div>\n            <div class=\"button-exit\" v-on:click=\"closeDetailView\"></div>\n            <div class=\"language\">\n                <div class=\"flag ru\" :class=\"{active:(getLanguage()=='ru')}\" v-on:click=\"setLanguage('ru')\"></div>\n                <div class=\"flag en\" :class=\"{active:(getLanguage()=='en')}\" v-on:click=\"setLanguage('en')\"></div>\n                <div class=\"flag lv\" :class=\"{active:(getLanguage()=='lv')}\" v-on:click=\"setLanguage('lv')\"></div>\n            </div>\n        </div>\n    </div>\n  </div>\n</template>\n<script>\n\nimport sector from './components/sector.vue'\nimport clipregion from './components/clipregion.vue'\nimport detail from './components/detail.vue'\nimport divisionregion from './components/divisionregion.vue'\nimport {radiansToDegrees} from './components/common.js'\n\nexport default {\n    name: 'app',\n    data: function(){return {\n            view: null,\n            language:'lv',\n            selectedDetail:null,\n            mouseState:[0, 0, 0, 0, 0, 0, 0, 0, 0],\n            mouseDownCount:0,\n            rotationStep:0,\n            currentShakeIndex:0,\n            passiveMode:false,\n            userInputTimer:null,\n            config:{\n                userInputTimeout:5000,\n                detailRotationDuration:650,\n            },\n            hasDivisions:false,\n            selectedDivision:null\n        }\n    },    \n    components: {\n        sector,\n        clipregion,\n        detail,\n        divisionregion\n    },\n    computed:{\n        divisions:function(){\n\n            return false;\n        },\n        sectors:function () {\n            if(this.view && typeof this.view.sectors != 'undefined'){\n                return this.view.sectors;\n            }\n            return false;\n        },\n        backgroundImageUrl:function(){\n            if(this.view && typeof this.view.mainBackground != \"undefined\"){\n                return this.view.mainBackground;\n            }\n            return '';\n        },\n        shadowImageUrl:function(){\n            if(this.view && typeof this.view.mainShadow != \"undefined\"){\n                return this.view.mainShadow;\n            }\n            return '';\n        },\n        detailBackgroundImageUrl:function(){\n            if(this.view && typeof this.view.detailBackground != \"undefined\"){\n                return this.view.detailBackground;\n            }\n            return '';\n        }\n    },\n    methods:{\n        init:function () {\n            var id = 1;\n            var path = window.location.pathname.split('/');\n\n            id = parseInt(path[1]);\n\n            this.$http.get('/resources/view_'+id+'/config.json').then(function(response) {\n                this.view = response.body;\n                this.initAudio();\n            }, function(){});\n        },\n        selectDetailView:function(id){\n            if (this.selectedDetail != null) {\n                //Init detail view to default state\n                this.initDetailView();\n                this.$emit('move-out', id);\n                //Fade in detail view background\n                Velocity(this.$refs.detailScreen,{\n                    opacity:1\n                }, { duration: 1000,\n                    display: \"block\"\n                });\n                Velocity(this.$refs.shadowBackground, {\n                    opacity: 0,\n                }, {duration:300,delay: 100,});\n            }\n        },\n        //Set up default position, visibility and opacity\n        initDetailView:function(){\n            Velocity(this.$refs.detailScreen,{ opacity: 0 }, { display: \"none\" });\n            this.rotateDetailView(this.selectedDetail, true);\n        },\n        closeDetailView:function(){\n\n            var parent = this;\n\n            //Fade off detail view background\n            Velocity(this.$refs.detailScreen,{\n                opacity:0\n            }, { duration: 600,\n                display: \"none\",\n                complete:function(){\n                    parent.selectedDetail = null;\n                }\n            });\n\n            this.$emit('stop-sounds');\n\n            this.$emit('move-in');\n\n            Velocity(parent.$refs.shadowBackground, {\n                opacity: 1,\n            }, {duration:500});\n\n            Velocity(this.$refs.mainBackground,{\n                blur:0\n            }, { duration: 1000});\n\n            this.userInputActivation();\n        },\n        getNextDetailViewId:function(){\n            if(this.selectedDetail != null){\n                if(typeof this.sectors[(this.selectedDetail + 1)] != 'undefined'){\n                    return (this.selectedDetail + 1);\n                }\n            }\n            return null;\n        },\n        getPreviousDetailViewId:function(){\n            if(this.selectedDetail != null){\n                if(this.selectedDetail > 0\n                    && typeof this.sectors[(this.selectedDetail - 1)] != 'undefined'){\n\n                    return (this.selectedDetail - 1);\n                }\n            }\n            return null;\n        },\n        renderDetailView:function(index){\n            if(this.selectedDetail != null && index == this.selectedDetail)return true;\n\n            var next = this.getNextDetailViewId();\n            if(next != null && index == next)return true;\n\n            var prev = this.getPreviousDetailViewId();\n            if(prev != null && index == prev)return true;\n\n            return false;\n        },\n        rotateDetailView:function(targetIndex, imediate = false){\n            var angle = targetIndex * this.rotationStep;\n            var parent = this;\n            var duration = this.config.detailRotationDuration;\n            if(imediate)duration = 0;\n\n            Velocity(this.$refs.detailCarousel,\"finish\");\n\n            this.$emit('carousel-slide-start', this.selectedDetail, targetIndex);\n\n            parent.selectedDetail = targetIndex;\n\n            Velocity(this.$refs.detailCarousel,{\n                rotateY:-angle\n            }, {\n                duration: duration,\n                easing: \"ease\"\n            });\n        },\n        moveNext:function(){\n            this.$emit('stop-sounds');\n            var index = this.getNextDetailViewId();\n            if(index != null) {\n                this.rotateDetailView(index);\n            }\n        },\n        movePrev:function(){\n            this.$emit('stop-sounds');\n            var index = this.getPreviousDetailViewId();\n            if(index != null) {\n                this.rotateDetailView(index);\n            }\n        },\n        switchLanguage:function(language){\n            this.language = language;\n        },\n        blurEffect:function(on){\n\n            Velocity(this.$refs.mainBackground,\"finish\");\n\n            var value = 0;\n            var zoom = 600;\n            if(on){\n                value = 3;\n                zoom = 300;\n            }\n            Velocity(this.$refs.mainBackground,{\n                blur:value\n            }, { duration: 1000});\n\n            // Velocity(this.$refs.mainScreen,{\n            //     perspective:zoom\n            // }, { duration: 1000});\n        },\n        //Sector is grabbed => hightlight it or blur out rest\n        onSectorGrabEvent:function (index) {\n        //    console.log('grab '+index);\n            if(typeof index == 'undefined')return;\n            if(this.selectedDetail == null){\n                this.$emit('blur-effect-on', index);\n            }\n        },\n        //Sector is released => activate detail view\n        onSectorReleaseEvent:function (index) {\n            if(typeof index == 'undefined')return;\n            if(this.selectedDetail == null){\n                this.selectedDetail = index;\n                this.selectDetailView(index);\n            }\n        },\n        //Sector is left => return to normal state\n        onSectorLeaveEvent:function (index) {\n        //    console.log('leave '+index);\n            if(typeof index == 'undefined')return;\n            if(this.selectedDetail == null){\n                this.$emit('blur-effect-off');\n            }\n        },\n        onBlurEffectOn:function(excludeIndex){\n            this.blurEffect(true);\n        },\n        onBlurEffectOff:function(){\n            this.blurEffect(false);\n        },\n        onMouseDown:function (e) {\n            ++this.mouseState[e.button];\n            ++this.mouseDownCount;\n        },\n        onMouseUp:function (e) {\n            --this.mouseState[e.button];\n            --this.mouseDownCount;\n        },\n        getLanguage:function(){\n            return this.language;\n        },\n        setLanguage:function(lang){\n            this.language = lang;\n        },\n\n        startShakeNext:function(){\n            if(this.passiveMode && this.selectedDetail == null){\n                this.currentShakeIndex = (this.currentShakeIndex + 1)%this.sectors.length;\n                this.$emit('shake', this.currentShakeIndex);\n                setTimeout(this.startShakeNext, 500);\n            }\n        },\n        userInputActivation:function(){\n\n            this.passiveMode = false;\n\n            if(this.userInputTimer){\n                clearTimeout(this.userInputTimer);\n                this.userInputTimer = null;\n            }\n            var parent = this;\n            this.userInputTimer = setTimeout(function(){\n                if(this.selectedDetail != null)return;\n                parent.passiveMode = true;\n                parent.startShakeNext();\n            }, this.config.userInputTimeout);\n        },\n        initAudio:function(){\n            var parent = this;\n            if(this.view && typeof this.view.sectors != 'undefined'){\n                for(var i=0; i<this.view.sectors.length; i++){\n                    if(typeof this.view.sectors[i].audio != \"undefined\"){\n                        for(var a=0; a<this.view.sectors[i].audio.length; a++){\n                            var audioFile = this.view.sectors[i].audio[a].fileName;\n                            this.view.sectors[i].audio[a].sound = new Howl({\n                                src: [audioFile],\n                                preload:true,\n                                onload:function(){\n                                    this.play();\n                                    this.stop();\n                                },\n                                onend:function(){\n                                    parent.$emit('stop-sounds');\n                                }\n                            });\n                        }\n                    }\n                }\n            }\n        },\n        onMouseMove:function (e) {\n            this.userInputActivation();\n        },\n    },\n    mounted:function(){\n\n        this.init();\n\n        document.addEventListener('mousedown', this.onMouseDown);\n        document.addEventListener('mouseup', this.onMouseUp);\n        document.addEventListener('mousemove', this.onMouseMove);\n        document.addEventListener('touchmove', this.onMouseMove);\n\n        this.$on('blur-effect-event', this.blurEffect);\n        this.$on('blur-effect-on', this.onBlurEffectOn);\n        this.$on('blur-effect-off', this.onBlurEffectOff);\n        this.$on('sector-grab', this.onSectorGrabEvent);\n        this.$on('sector-release', this.onSectorReleaseEvent);\n        this.$on('sector-leave', this.onSectorLeaveEvent);\n\n        this.initDetailView();\n\n        this.rotationStep = 2 * radiansToDegrees(Math.atan((1024/2)/3000));\n\n        this.userInputActivation();\n\n        // Velocity(this.$refs.mainScreen, {\n        //     translateX:'-150px',            \n        //     translateY:'-150px',\n        //     translateZ:'150px'\n        // }, 0);\n    },\n    beforeDestroy: function () {\n        document.removeEventListener('mousemove', this.onMouseMove);\n        document.removeEventListener('click', this.onClick);\n    },\n}\n</script>\n<style>\n    @font-face {\n        font-family: \"customFont\";\n        src: url(\"/resources/font.ttf\");\n    }\n    body{\n        background-color: slategrey;\n        font-family: \"customFont\";\n        overflow: hidden;\n        user-select: none;\n    }\n    #app {\n        width:1024px;\n        height:768px;\n        position:absolute;\n        top:0px;\n        left:0px;\n        overflow: hidden;\n        display:block;\n        perspective: 600px;\n        transform: rotateX(0deg) rotateY(0deg);\n        transform-style: preserve-3d;\n\n    }\n    .main-screen{\n        position:absolute;\n        left:0px;\n        top:0px;\n        width:1024px;\n        height:768px;\n\n    }\n    .main-background{\n        position:absolute;\n        left:-215px;\n        top:-69px;\n        width:1378px;\n        height:868px;\n        background-repeat: round;\n    }\n    .main-background .shadow-background{\n        position:relative;\n        width:100%;\n        height:100%;\n        background-repeat: round;\n    }    \n    .clip-screen{\n        position:absolute;\n        left:0px;\n        top:0px;\n        width:1024px;\n        height:768px;\n    }\n    .clip-screen svg{\n        width:100%;\n        height:100%;\n    }\n    .detail-screen{\n        width:1024px;\n        height:768px;\n        position:absolute;\n        top:0px;\n        left:0px;\n        background-repeat: round;\n    }\n    .detail-3d{\n        position:absolute;\n        left:0px;\n        top:0px;\n        width:1024px;\n        height:768px;\n        perspective: 300px;\n        transform: rotateX(0deg) rotateY(0deg);\n    }\n    .detail-frame{\n        position:absolute;\n        left:0px;\n        top:0px;\n        width:1024px;\n        height:768px;\n        transform-style: preserve-3d;\n        transform: rotateX(0deg) rotateY(0deg);\n        transform-origin: 512px 0 -3000px;\n    }\n    .detail-screen .navigation {\n        position: absolute;\n        bottom:0px;\n        left:0px;\n        width:1024px;\n        height:80px;\n    }\n\n    .language{\n        width:100%;\n        position:fixed;\n        bottom:0px;\n        text-align:center;\n        z-index:500;\n    }\n    .flag{\n        display: inline-block;\n        width:50px;\n        height:37px;\n        background-repeat: round;\n        transition: width 400ms, height 400ms,  opacity 400ms;\n        box-shadow: 0px -4px 8px 1px rgba(0,0,0,0.75);\n        border-radius: 5px;\n        opacity:0.5;\n        margin-left:3px;\n        mergin-right:3px;\n    }\n    .flag.lv{\n        background-image: url(\"/resources/lv_flag.png\");\n    }\n    .flag.ru{\n        background-image: url(\"/resources/ru_flag.png\");\n    }\n    .flag.en{\n        background-image: url(\"/resources/en_flag.png\");\n    }\n    .flag.active{\n        width:90px;\n        height:60px;\n        transition: width 400ms, height 400ms, opacity 400ms;\n        border-radius: 9px;\n        opacity:1;\n    }\n\n    .button-prev{\n        position:fixed;\n        left: 0px;\n        bottom:0px;\n        background-image: url(\"/resources/button_return.png\");\n        width:100px;\n        height:100px;\n        background-repeat: round;\n        z-index:999;\n        opacity: 0.4;\n        transition: opacity 200ms;\n    }\n    .button-prev:hover{\n        background-image: url(\"/resources/button_return_on.png\");\n        opacity: 1;\n        transition: opacity 200ms;\n    }\n    .button-next{\n        position:fixed;\n        right: 0px;\n        bottom:0px;\n        background-image: url(\"/resources/button_return.png\");\n        width:100px;\n        height:100px;\n        background-repeat: round;\n        transform: scaleX(-1);\n        z-index:999;\n        opacity: 0.4;\n        transition: opacity 200ms;\n    }\n    .button-next:hover{\n        background-image: url(\"/resources/button_return_on.png\");\n        opacity: 1;\n        transition: opacity 200ms;\n    }\n    .button-exit{\n        position:fixed;\n        right: 0px;\n        top:0px;\n        background-image: url(\"/resources/button_exit.png\");\n        width:100px;\n        height:100px;\n        background-repeat: round;\n        z-index:999;\n        opacity: 0.4;\n        transition: opacity 200ms;\n    }\n    .button-exit:hover{\n        background-image: url(\"/resources/button_exit_on.png\");\n        opacity: 1;\n        transition: opacity 200ms;\n    }    \n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./application.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./application.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./application.vue?vue&type=template&id=d536d9f6&\"\nimport script from \"./application.vue?vue&type=script&lang=js&\"\nexport * from \"./application.vue?vue&type=script&lang=js&\"\nimport style0 from \"./application.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueResource from 'vue-resource'\nimport {Howl, Howler} from 'howler';\nimport Velocity from 'velocity-animate'\nimport App from './application.vue'\n\nVue.use(VueResource);\n\nnew Vue({\n    render: h => h(App)\n}).$mount('#app')","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./clipregion.vue?vue&type=style&index=0&id=2be0b71c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./clipregion.vue?vue&type=style&index=0&id=2be0b71c&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./divisionregion.vue?vue&type=style&index=0&id=a90e27ec&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./divisionregion.vue?vue&type=style&index=0&id=a90e27ec&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&id=05e52235&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&id=05e52235&scoped=true&lang=css&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./application.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./application.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}